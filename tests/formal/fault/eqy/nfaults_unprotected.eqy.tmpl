# Python template to inject N faults into the not_2bit circuit

# Original circuit
[gold]
read_verilog -sv {script}
prep -top {top}
rename -top design
splitcells
splitnets

# With injected faults
[gate]
plugin -i libtamara.so

read_verilog -sv -DTAMARA {script}
hierarchy -top {top}

prep
rename -top design
splitcells
splitnets

tamara_tmr
opt_clean

# apply a random mutation (fault injection)
mutate -list {faults} -seed {seed} -o {mutate_script}
# execute the fault injection command
script {mutate_script}

## [strategy sby]
## use sby
## depth 2
## engine smtbmc yices

[strategy sat]
use sat
depth 15

